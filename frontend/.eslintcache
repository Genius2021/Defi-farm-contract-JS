[{"C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\index.js":"1","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\reportWebVitals.js":"2","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\App.js":"3","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\components\\Header.js":"4","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\components\\Main.js":"5","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\components\\yourWallet\\YourWallet.js":"6","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\components\\yourWallet\\WalletBalance.js":"7","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\components\\BalanceMsg.js":"8","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\components\\yourWallet\\StakeForm.js":"9","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\hooks\\useStakeTokens.js":"10","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\hooks\\UseStakeTokens.js":"11"},{"size":500,"mtime":1654353910137,"results":"12","hashOfConfig":"13"},{"size":362,"mtime":1653501197285,"results":"14","hashOfConfig":"13"},{"size":518,"mtime":1654612747774,"results":"15","hashOfConfig":"13"},{"size":765,"mtime":1654468581918,"results":"16","hashOfConfig":"13"},{"size":2060,"mtime":1654473284568,"results":"17","hashOfConfig":"13"},{"size":1337,"mtime":1654610069844,"results":"18","hashOfConfig":"13"},{"size":693,"mtime":1654605635488,"results":"19","hashOfConfig":"13"},{"size":848,"mtime":1654603491744,"results":"20","hashOfConfig":"13"},{"size":2166,"mtime":1654617376700,"results":"21","hashOfConfig":"13"},{"size":2338,"mtime":1654621034973,"results":"22","hashOfConfig":"13"},{"size":2338,"mtime":1654621034973,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"c6r1lx",{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"26"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47"},{"filePath":"48","messages":"49","errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\index.js",[],["50","51"],"C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\reportWebVitals.js",[],"C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\App.js",[],"C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\components\\Header.js",[],"C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\components\\Main.js",[],"C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\components\\yourWallet\\YourWallet.js",[],"C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\components\\yourWallet\\WalletBalance.js",[],"C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\components\\BalanceMsg.js",["52"],"import React from 'react'\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport useStakeTokens from \"../hooks/useStakeTokens\"\r\n\r\nconst useStyles = makeStyles(theme =>({\r\n    container: {\r\n        display: \"inline-grid\",\r\n        gridTemplateColumns: \"auto auto auto\",\r\n        gap: theme.spacing(1),\r\n        alignItems: \"center\"\r\n        \r\n    },\r\n    tokenImg: {\r\n        width: \"32px\"\r\n    },\r\n    amount: {\r\n        fontWeight: 700\r\n    }\r\n}))\r\n\r\nfunction BalanceMsg({label, amount, tokenImageSrc}) {\r\n    const classes = useStyles()\r\n\r\n    return (\r\n    <div className={classes.container}>\r\n        <div>{label}</div>\r\n        <div className={classes.amount}>{amount}</div>\r\n        <img className={classes.tokenImg} src={tokenImageSrc}  alt=\"token logo\" />\r\n        {/* <useStakeTokens /> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BalanceMsg","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\components\\yourWallet\\StakeForm.js",["53","54"],"import { useEthers, useTokenBalance, useNotifications } from '@usedapp/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { ethers, utils } from \"ethers\";\r\nimport { Button, Input, CircularProgress } from '@material-ui/core';\r\nimport useStakeTokens from '../../hooks/useStakeTokens';\r\n\r\n\r\n\r\nfunction StakeForm({token}) {\r\n    const {address: tokenAddress, name} = token;\r\n    console.log(\"The token tokenAddress is\", tokenAddress)\r\n    const {account} = useEthers();\r\n    const tokenBalance = useTokenBalance(tokenAddress, account)\r\n    const formattedTokenBalance = tokenBalance && parseFloat(ethers.utils.formatEther(tokenBalance))\r\n    const {notifications} = useNotifications();\r\n\r\n\r\n    const [amount, setAmount] = useState('');\r\n    const handleInputChange = (e)=>{\r\n        const newAmount = e.target.value === \"\" ? \"\" : Number(e.target.value)\r\n        setAmount(newAmount)\r\n    }\r\n\r\n    const {approveAndStake, state: approveAndStakeERC20State} = useStakeTokens(tokenAddress)\r\n    const handleStakeSubmit = ()=>{\r\n        const amountAsWei = utils.parseEther(amount?.toString())\r\n        return approveAndStake(amountAsWei.toString())\r\n    }\r\n\r\n    const isMining = approveAndStakeERC20State.status === \"Mining\"\r\n\r\n    useEffect(()=>{\r\n        if(notifications.filter(notification =>( //filter takes in a function\r\n            notification.type === \"transactionSucceed\" &&\r\n            notification.transactionName === \"Approve ERC20 transfer\"\r\n        )).length > 0){\r\n            console.log(\"Approved!\")\r\n        }\r\n\r\n        if(notifications.filter(notification =>( //filter takes in a function\r\n            notification.type === \"transactionSucceed\" &&\r\n            notification.transactionName === \"Stake Tokens\"\r\n        )).length > 0){\r\n            console.log(\"Tokens have been staked!\")\r\n        }\r\n\r\n    }, [notifications])\r\n\r\n  return (\r\n    <>\r\n    <Input onChange={handleInputChange} value={amount} />\r\n    <Button\r\n    onClick={handleStakeSubmit}\r\n    color=\"primary\"\r\n    size=\"medium\"\r\n    disabled={isMining}\r\n    >{isMining ? <CircularProgress size={20} /> : \"Stake\" }</Button>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default StakeForm ","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\hooks\\useStakeTokens.js",["55","56"],"import { useEthers, useContractFunction } from '@usedapp/core'\r\nimport { constants, ethers, utils } from \"ethers\";\r\nimport { Contract } from \"@ethersproject/contracts\";\r\nimport TokenFarm from \"../chain-info/contracts/TokenFarm.json\"\r\nimport ERC20 from \"../chain-info/interfaces/IERC20.json\"\r\nimport networkMapping from \"../chain-info/deployments/map.json\";\r\nimport { useEffect, useState } from 'react';\r\n\r\n\r\n\r\nfunction useStakeTokens(tokenAddress) {\r\n    const {chainId} = useEthers();\r\n    const {abi} = TokenFarm\r\n    const tokenFarmAddress = chainId ? networkMapping[String(chainId)][\"TokenFarm\"][0] : constants.AddressZero;\r\n    const tokenFarmInterface = new utils.Interface(abi)\r\n    const tokenFarmContract = new Contract(tokenFarmAddress, tokenFarmInterface)\r\n    \r\n    const erc20ABI = ERC20.abi\r\n    const erc20Interface = new utils.Interface(erc20ABI)\r\n    const erc20Contract = new Contract(tokenAddress, erc20Interface)\r\n\r\n    console.log(\"The token farm abi is\", abi)\r\n    //approve\r\n    //stake tokens\r\n    const { send:approveERC20Send , state: approveAndStakeERC20State} = useContractFunction(erc20Contract, \"approve\", {transactionName: \"Approve ERC20 transfer\"})\r\n    \r\n    const approveAndStake = (amount)=>{\r\n      setAmountToStake(amount)\r\n      return approveERC20Send(tokenFarmAddress, amount)\r\n    }\r\n\r\n    const [amountToStake, setAmountToStake] = useState(\"0\")\r\n    const {send: stakeSend, state: stakeState} = useContractFunction(tokenFarmContract, \"stakeTokens\", {transactionName: \"Stake Tokens\"})\r\n    \r\n    useEffect(()=>{\r\n      //if the approval was successful then you stake\r\n      if(approveAndStakeERC20State.status === \"Success\"){\r\n        stakeSend(amountToStake, tokenAddress)\r\n      }\r\n\r\n    }, [approveAndStakeERC20State, amountToStake, tokenAddress])\r\n\r\n    console.log(approveAndStakeERC20State)\r\n   const [state, setState] = useState(approveAndStakeERC20State)\r\n   useEffect(()=>{\r\n    //if the approval was successful then you stake\r\n    if(approveAndStakeERC20State.status === \"Success\"){\r\n      setState(stakeState) //if successful, then stakeState will enter into \"Mining\" state and loading spinner starts\r\n    }else{\r\n      setState(approveAndStakeERC20State)\r\n    }\r\n\r\n  }, [approveAndStakeERC20State, stakeState])\r\n\r\n    return {approveAndStake, state}\r\n}\r\n\r\nexport default useStakeTokens","C:\\Users\\JERRY\\Desktop\\Smart Contracts projects\\Brownie-projects\\Defi-farm-contract-JS\\frontend\\src\\hooks\\UseStakeTokens.js",["57","58","59","60"],{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","severity":1,"message":"66","line":3,"column":8,"nodeType":"67","messageId":"68","endLine":3,"endColumn":22},{"ruleId":"65","severity":1,"message":"69","line":10,"column":35,"nodeType":"67","messageId":"68","endLine":10,"endColumn":39},{"ruleId":"65","severity":1,"message":"70","line":14,"column":11,"nodeType":"67","messageId":"68","endLine":14,"endColumn":32},{"ruleId":"65","severity":1,"message":"71","line":2,"column":21,"nodeType":"67","messageId":"68","endLine":2,"endColumn":27},{"ruleId":"72","severity":1,"message":"73","line":41,"column":8,"nodeType":"74","endLine":41,"endColumn":64,"suggestions":"75"},{"ruleId":"65","severity":1,"message":"76","line":3,"column":29,"nodeType":"67","messageId":"68","endLine":3,"endColumn":34},{"ruleId":"65","severity":1,"message":"77","line":9,"column":10,"nodeType":"67","messageId":"68","endLine":9,"endColumn":24},{"ruleId":"65","severity":1,"message":"78","line":12,"column":11,"nodeType":"67","messageId":"68","endLine":12,"endColumn":27},{"ruleId":"79","severity":2,"message":"80","line":27,"column":16,"nodeType":"67","messageId":"81","endLine":27,"endColumn":30},"no-native-reassign",["82"],"no-negated-in-lhs",["83"],"no-unused-vars","'useStakeTokens' is defined but never used.","Identifier","unusedVar","'name' is assigned a value but never used.","'formattedTokenBalance' is assigned a value but never used.","'ethers' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'stakeSend'. Either include it or remove the dependency array.","ArrayExpression",["84"],"'utils' is defined but never used.","'IseStakeTokens' is defined but never used.","'tokenFarmAddress' is assigned a value but never used.","no-undef","'useStakeTokens' is not defined.","undef","no-global-assign","no-unsafe-negation",{"desc":"85","fix":"86"},"Update the dependencies array to be: [approveAndStakeERC20State, amountToStake, tokenAddress, stakeSend]",{"range":"87","text":"88"},[1734,1790],"[approveAndStakeERC20State, amountToStake, tokenAddress, stakeSend]"]